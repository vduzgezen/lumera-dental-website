{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/vedatcanduzgezen/Desktop/lumera-dental-website/portal/components/NewCaseForm.tsx"],"sourcesContent":["// components/NewCaseForm.tsx\n\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ntype Doctor = {\n  id: string;\n  email: string;\n  name: string | null;\n  clinic: { id: string; name: string };\n};\n\nfunction addDays(d: Date, days: number) {\n  const x = new Date(d);\n  x.setDate(x.getDate() + days);\n  x.setHours(0, 0, 0, 0);\n  return x;\n}\n\nfunction toISODate(d: Date) {\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const dd = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${dd}`;\n}\n\nexport default function NewCaseForm({ doctors }: { doctors: Doctor[] }) {\n  const router = useRouter();\n\n  const [busy, setBusy] = useState(false);\n  const [err, setErr] = useState<string | undefined>();\n  const [ok, setOk] = useState<string | undefined>();\n\n  const [alias, setAlias] = useState(\"\");\n  const [tooth, setTooth] = useState(\"\");\n\n  // Doctor selection + typeahead\n  const [doctorUserId, setDoctorUserId] = useState(doctors[0]?.id ?? \"\");\n  const selectedDoctor = useMemo(\n    () => doctors.find((d) => d.id === doctorUserId) ?? null,\n    [doctorUserId, doctors],\n  );\n\n  const [query, setQuery] = useState(\"\");\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [highlightIndex, setHighlightIndex] = useState(0);\n\n  const filteredDoctors = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return doctors;\n    return doctors.filter((d) => {\n      const email = d.email.toLowerCase();\n      const name = (d.name ?? \"\").toLowerCase();\n      const clinic = d.clinic.name.toLowerCase();\n      return (\n        email.includes(q) ||\n        name.includes(q) ||\n        clinic.includes(q)\n      );\n    });\n  }, [query, doctors]);\n\n  function applyDoctor(doc: Doctor) {\n    setDoctorUserId(doc.id);\n    setQuery(doc.email); // show chosen email\n    setDropdownOpen(false);\n  }\n\n  function handleQueryChange(e: React.ChangeEvent<HTMLInputElement>) {\n    setQuery(e.target.value);\n    setDropdownOpen(true);\n    setHighlightIndex(0);\n  }\n\n  function handleQueryKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (!dropdownOpen || filteredDoctors.length === 0) return;\n\n    if (e.key === \"ArrowDown\") {\n      e.preventDefault();\n      setHighlightIndex((prev) =>\n        prev + 1 >= filteredDoctors.length ? filteredDoctors.length - 1 : prev + 1,\n      );\n    } else if (e.key === \"ArrowUp\") {\n      e.preventDefault();\n      setHighlightIndex((prev) => (prev - 1 < 0 ? 0 : prev - 1));\n    } else if (e.key === \"Enter\") {\n      e.preventDefault();\n      const doc = filteredDoctors[highlightIndex];\n      if (doc) applyDoctor(doc);\n    } else if (e.key === \"Escape\") {\n      setDropdownOpen(false);\n    }\n  }\n\n  const today = useMemo(() => new Date(), []);\n  const [orderDate, setOrderDate] = useState(toISODate(today));\n  const dueDate = useMemo(\n    () => toISODate(addDays(new Date(orderDate), 8)),\n    [orderDate],\n  );\n\n  const [product, setProduct] = useState<\n    \"ZIRCONIA\" | \"MULTILAYER_ZIRCONIA\" | \"EMAX\" | \"INLAY_ONLAY\"\n  >(\"ZIRCONIA\");\n  const [shade, setShade] = useState(\"\");\n  const [material, setMaterial] = useState(\"\");\n\n  // Single required scan viewer HTML\n  const [scanHtml, setScanHtml] = useState<File | null>(null);\n\n  function friendly(e: unknown): string {\n    const s = String((e as any)?.message || e || \"\");\n\n    // Order date invalid\n    if (/order date invalid/i.test(s)) {\n      return \"Invalid date. Please use the date picker (YYYY-MM-DD).\";\n    }\n\n    // Doctor/clinic linkage issues\n    if (/Doctor account not found/i.test(s)) {\n      return \"The selected doctor account could not be found.\";\n    }\n    if (/Doctor has no clinic linked/i.test(s)) {\n      return \"The selected doctor isn’t linked to a clinic.\";\n    }\n\n    // Backend: scan viewer HTML missing\n    if (/Scan viewer HTML is required/i.test(s)) {\n      return \"Please upload a scan viewer HTML file.\";\n    }\n\n    // Backend: wrong type\n    if (/Scan viewer must be an HTML file/i.test(s)) {\n      return \"Scan viewer must be an HTML (.html) file.\";\n    }\n\n    // Backend: size too large\n    if (/Scan viewer file is too large/i.test(s)) {\n      return \"Scan viewer file is too large.\";\n    }\n\n    return s || \"Please correct the highlighted fields and try again.\";\n  }\n\n  async function submit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    setErr(undefined);\n    setOk(undefined);\n\n    if (!doctorUserId) {\n      return setErr(\"Please select a doctor account.\");\n    }\n    if (!alias.trim()) {\n      return setErr(\"Alias is required.\");\n    }\n    if (!tooth.trim()) {\n      return setErr(\"Tooth codes are required.\");\n    }\n    if (!scanHtml) {\n      return setErr(\"Please upload a scan viewer HTML file.\");\n    }\n\n    const parsed = new Date(orderDate);\n    if (isNaN(parsed.getTime())) {\n      return setErr(\"Invalid date.\");\n    }\n\n    const fd = new FormData();\n    fd.append(\"patientAlias\", alias.trim());\n    fd.append(\"doctorUserId\", doctorUserId);\n    fd.append(\"toothCodes\", tooth.trim());\n    // API expects a string; it parses with new Date(orderDateRaw)\n    fd.append(\"orderDate\", new Date(orderDate).toISOString());\n    fd.append(\"product\", product);\n    if (material) fd.append(\"material\", material);\n    if (shade) fd.append(\"shade\", shade);\n    // IMPORTANT: this is now HTML, not STL/PLY/OBJ\n    fd.append(\"scanHtml\", scanHtml);\n\n    setBusy(true);\n    try {\n      const r = await fetch(\"/api/cases/new\", { method: \"POST\", body: fd });\n      const j = await r.json().catch(() => ({}));\n      if (!r.ok) throw new Error(j.error || \"Create failed\");\n      setOk(\"Case created. Redirecting…\");\n      router.push(`/portal/cases/${encodeURIComponent(j.id)}`);\n    } catch (e: any) {\n      setErr(friendly(e));\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  const doctorNameDisplay = selectedDoctor?.name ?? \"\";\n  const doctorEmailDisplay = selectedDoctor?.email ?? \"\";\n  const clinicNameDisplay = selectedDoctor?.clinic.name ?? \"\";\n\n  return (\n    <form onSubmit={submit} className=\"space-y-5 max-w-3xl\">\n      {/* Doctor picker */}\n      <div className=\"rounded-xl border border-white/10 p-4 space-y-3\">\n        <div className=\"text-sm text-white/70\">\n          Doctor (search by email/name/clinic)\n        </div>\n\n        <div className=\"relative\">\n          <input\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            placeholder=\"Start typing doctor email…\"\n            value={query}\n            onChange={handleQueryChange}\n            onFocus={() => setDropdownOpen(true)}\n            onBlur={() => {\n              setTimeout(() => setDropdownOpen(false), 120);\n            }}\n            onKeyDown={handleQueryKeyDown}\n          />\n\n          {dropdownOpen && (\n            <div className=\"absolute z-20 mt-1 w-full max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-black/90 shadow-xl\">\n              {filteredDoctors.length === 0 ? (\n                <div className=\"px-3 py-2 text-sm text-white/60\">\n                  No doctors match “{query.trim()}”.\n                </div>\n              ) : (\n                filteredDoctors.map((d, idx) => {\n                  const active = idx === highlightIndex;\n                  return (\n                    <button\n                      key={d.id}\n                      type=\"button\"\n                      onMouseDown={(e) => {\n                        e.preventDefault();\n                        applyDoctor(d);\n                      }}\n                      className={[\n                        \"w-full text-left px-3 py-2 text-sm\",\n                        active ? \"bg-white/15\" : \"hover:bg-white/10\",\n                      ].join(\" \")}\n                    >\n                      <div className=\"font-medium text-white\">\n                        {d.name || d.email}\n                      </div>\n                      <div className=\"text-xs text-white/70\">{d.email}</div>\n                      <div className=\"text-xs text-white/50\">\n                        {d.clinic.name}\n                      </div>\n                    </button>\n                  );\n                })\n              )}\n            </div>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 text-xs text-white/70\">\n          <div>\n            <div className=\"text-white/50\">Doctor Name</div>\n            <div className=\"mt-0.5 text-white/90 truncate\">\n              {doctorNameDisplay || \"—\"}\n            </div>\n          </div>\n          <div>\n            <div className=\"text-white/50\">Doctor Email</div>\n            <div className=\"mt-0.5 text-white/90 truncate\">\n              {doctorEmailDisplay || \"—\"}\n            </div>\n          </div>\n          <div>\n            <div className=\"text-white/50\">Clinic</div>\n            <div className=\"mt-0.5 text-white/90 truncate\">\n              {clinicNameDisplay || \"—\"}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Patient + tooth */}\n      <div className=\"grid gap-3 sm:grid-cols-2\">\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">Patient Alias</div>\n          <input\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            placeholder=\"e.g. JD-0425\"\n            value={alias}\n            onChange={(e) => setAlias(e.target.value)}\n            required\n          />\n        </div>\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">Tooth Codes</div>\n          <input\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            placeholder=\"e.g. 19, 20\"\n            value={tooth}\n            onChange={(e) => setTooth(e.target.value)}\n            required\n          />\n        </div>\n      </div>\n\n      {/* Dates */}\n      <div className=\"grid gap-3 sm:grid-cols-2\">\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">Date of Order</div>\n          <input\n            type=\"date\"\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            value={orderDate}\n            onChange={(e) => setOrderDate(e.target.value)}\n            required\n          />\n        </div>\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">Due Date (auto)</div>\n          <input\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            value={dueDate}\n            readOnly\n            disabled\n          />\n        </div>\n      </div>\n\n      {/* Product + material */}\n      <div className=\"grid gap-3 sm:grid-cols-3\">\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">Product</div>\n          <select\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            value={product}\n            onChange={(e) => setProduct(e.target.value as any)}\n          >\n            <option value=\"ZIRCONIA\">Zirconia Crown</option>\n            <option value=\"MULTILAYER_ZIRCONIA\">\n              Multilayer Zirconia Crown\n            </option>\n            <option value=\"EMAX\">Emax Crown</option>\n            <option value=\"INLAY_ONLAY\">Inlay/Onlay</option>\n          </select>\n        </div>\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">Shade</div>\n          <input\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            placeholder=\"e.g. A2\"\n            value={shade}\n            onChange={(e) => setShade(e.target.value)}\n          />\n        </div>\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">\n            Material (optional)\n          </div>\n          <input\n            className=\"w-full rounded-lg p-2 bg-black/40 border border-white/10 text-white\"\n            placeholder=\"e.g. Zirconia\"\n            value={material}\n            onChange={(e) => setMaterial(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* Scan viewer HTML upload */}\n      <div className=\"space-y-3\">\n        <div>\n          <div className=\"text-sm text-white/70 mb-1\">\n            Upload Scan Viewer (Exocad HTML)\n          </div>\n          <label className=\"flex items-center justify-between gap-3 rounded-lg p-3 bg-black/40 border border-white/10 cursor-pointer\">\n            <div className=\"flex-1 min-w-0 text-white/80\">\n              {scanHtml ? (\n                <>\n                  <div\n                    className=\"font-medium text-xs truncate\"\n                    title={scanHtml.name}\n                  >\n                    {scanHtml.name}\n                  </div>\n                  <div className=\"text-[10px] text-white/60\">\n                    {(scanHtml.size / (1024 * 1024)).toFixed(2)} MB\n                  </div>\n                </>\n              ) : (\n                <div className=\"text-xs text-white/60 truncate\">\n                  Choose scan viewer HTML…\n                </div>\n              )}\n            </div>\n            <div className=\"shrink-0 rounded-md bg-white text-black px-3 py-1.5 text-xs\">\n              Browse\n            </div>\n            <input\n              type=\"file\"\n              accept=\".html,.htm,text/html\"\n              onChange={(e) => {\n                const f = e.target.files?.[0] ?? null;\n                setScanHtml(f);\n              }}\n              className=\"hidden\"\n            />\n          </label>\n        </div>\n      </div>\n\n      {/* Errors / status */}\n      {err && (\n        <div className=\"text-sm text-red-400\">\n          {err}\n        </div>\n      )}\n      {ok && (\n        <div className=\"text-sm text-emerald-400\">\n          {ok}\n        </div>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={busy}\n        className=\"px-4 py-2 rounded-lg bg-white text-black text-sm disabled:opacity-60\"\n      >\n        {busy ? \"Creating…\" : \"Create Case\"}\n      </button>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}